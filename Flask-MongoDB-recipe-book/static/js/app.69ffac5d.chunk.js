(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?')},41:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return recipeEdit; });\n/* harmony import */ var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(65);\n/* harmony import */ var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26);\n/* harmony import */ var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(68);\n/* harmony import */ var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(70);\n/* harmony import */ var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(71);\n/* harmony import */ var core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_define_property__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(72);\n/* harmony import */ var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(74);\n/* harmony import */ var core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var core_js_modules_web_timers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(79);\n/* harmony import */ var core_js_modules_web_timers__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_timers__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(11);\n/* harmony import */ var materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_8__);\n\n\n\n\n\n\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n/*\r\n*  materialize has got a bug with chip deletion. It's deleting chip on incorrect index\r\n* 'materialize-css/dist/js/materialize.js' needs to be tweaked\r\n*\r\n* _handleChipClick():7752\r\n* this.selectChip(index); replace with this.selectChip(index - 1);\r\n*\r\n* function deleteChip(chipIndex):7994\r\n* after needs to be added chipIndex -= 1;\r\n*\r\n* function _handleChipsKeydown:8044\r\n* on line 8065  var selectIndex = currChips.chipsData.length; after add selectIndex -= 1;\r\n* currChips.selectChip(selectIndex) :8075 replace with currChips.selectChip(selectIndex-1);\r\n*\r\n* or replace fixed package 'materialize-css/dist/js/materialize.js' with './materialize/materialize.js'\r\n*\r\n* */\n\nvar RecipeChipFields =\n/*#__PURE__*/\nfunction () {\n  function RecipeChipFields(names) {\n    _classCallCheck(this, RecipeChipFields);\n\n    /*\r\n    * Initialize chip field\r\n    *\r\n    * */\n    var chipOptions = {\n      data: RecipeChipFields.getChipData(names.wtfFieldName),\n      placeholder: names.placeholder,\n      secondaryPlaceholder: names.secondaryPlaceholder,\n      onChipAdd: function onChipAdd(e, chip) {\n        RecipeChipFields.onChipAdded(names.wtfFieldName, chip);\n      },\n      onChipDelete: function onChipDelete(e, chip) {\n        RecipeChipFields.onChipRemoved(names.wtfFieldName, chip);\n      }\n    };\n    materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_8___default.a.Chips.init(document.querySelectorAll(names.chipFieldSelector), chipOptions);\n  }\n\n  _createClass(RecipeChipFields, null, [{\n    key: \"onChipAdded\",\n    value: function onChipAdded(formSelector, chip) {\n      /*\r\n      * Add chip to input\r\n      * */\n      var chipValue = RecipeChipFields.getChipValue(chip);\n      var list = $(\"#\".concat(formSelector, \" li\"));\n      if (!chipValue) return false; // count the fields\n\n      var ccField = list.length; // check if first value is empty if yes set the chip value\n\n      if (ccField === 1) {\n        var field = list.last().find('input');\n\n        if (!field.val()) {\n          field.val(chipValue);\n          return false;\n        }\n      } // clone the last field of list\n\n\n      var fieldToClone = list.last().clone();\n      var fieldName = \"\".concat(formSelector, \"-\").concat(ccField);\n      fieldToClone.find('input').attr({\n        id: fieldName,\n        name: fieldName,\n        value: chipValue\n      });\n      $(\"#\".concat(formSelector)).append(fieldToClone);\n    }\n  }, {\n    key: \"onChipRemoved\",\n    value: function onChipRemoved(formSelector, chip) {\n      var chipValue = this.getChipValue(chip);\n      var list = $(\"#\".concat(formSelector, \" li\"));\n      if (!chipValue) return false;\n      var cc = 0;\n      list.each(function () {\n        var _this = $(this);\n\n        var input = _this.find('input');\n\n        var label = _this.find('label'); // prevent last element deletion\n\n\n        if (list.length === 1) {\n          input.val('');\n          return false;\n        } else if (input.val() === chipValue) {\n          $(this).remove();\n          cc -= 1;\n        }\n\n        var attrValue = label.attr('for').replace(/\\d/, cc);\n        label.attr('for', attrValue);\n        input.attr({\n          id: attrValue,\n          name: attrValue\n        });\n        cc += 1;\n      });\n    }\n  }, {\n    key: \"getChipData\",\n    value: function getChipData(selector) {\n      /*\r\n      * function is getting values from hidden field and output as an array\r\n      * */\n      var list = $(\"#\".concat(selector, \" li\"));\n      if (!list.length) return false;\n      var data = [];\n      list.each(function () {\n        var input = $(this).find('input');\n\n        try {\n          if (input.val()) {\n            data.push({\n              tag: input.val()\n            });\n          }\n        } catch (e) {\n          console.error('No value in input');\n        }\n      });\n      return data;\n    }\n  }, {\n    key: \"getChipValue\",\n    value: function getChipValue(chip) {\n      return typeof chip !== 'undefined' ? chip.innerHTML.substring(0, chip.innerHTML.indexOf(\"<i\")) : false;\n    }\n  }]);\n\n  return RecipeChipFields;\n}();\n\nfunction convertFieldList(fieldType, selector) {\n  /*\r\n  * used to convert wtform FieldList to materialize appearance\r\n  * set the correct label\r\n  * and add delete button\r\n  * */\n  var fields = $(\"\".concat(selector, \" li\"));\n  $(selector).attr('data-field-type', fieldType);\n  if (!fields.length) return false; // need define a const jquery got a problem to handle this in each loop\n\n  fields.each(function (index) {\n    var _this = $(this);\n\n    var label = _this.find('label');\n\n    _this.addClass('input-field'); // add more prominent label\n\n\n    if (label) {\n      label.html(\"\".concat(index + 1, \". \").concat(label.text()));\n    } // add delete button\n\n\n    var button = \"<button type=\\\"button\\\" class=\\\"delete red darken-4\\\" data-selector=\\\"\".concat(selector, \"\\\" data-index=\\\"\").concat(index, \"\\\">\\n<i class=\\\"material-icons\\\">close</i></button>\");\n\n    _this.append(button);\n\n    if (fieldType === 'textarea') {\n      var field = _this.find('textarea');\n\n      if (field) {\n        if (field.html() !== '') {\n          field.height(field[0].scrollHeight * 1.2);\n        }\n\n        field.addClass('materialize-textarea');\n      }\n    }\n  });\n}\n\nfunction addField(button) {\n  var listID = button.parent().find('ul').attr('id');\n  var listToClone = $(\"#\".concat(listID, \" li\")).last().clone();\n  var fieldType = $(\"#\".concat(listID)).attr('data-field-type');\n\n  if (fieldType === 'textarea') {\n    listToClone.find(fieldType).html('').removeAttr('style');\n  } else if (fieldType === 'input') {\n    listToClone.find(fieldType).val('');\n  }\n\n  listToClone.find('label').removeClass('active');\n  $(\"#\".concat(listID)).append(listToClone);\n  $('li button.delete').click(function () {\n    deleteField($(this));\n  });\n  updateFieldsAttr(\"#\".concat(listID));\n}\n\nfunction updateFieldsAttr(selector) {\n  /*\r\n  * function called to update list attributes\r\n  * */\n  var list = $(\"\".concat(selector, \" li\"));\n  var firstLabel = list.first().find('label');\n  var labelName = firstLabel.text().replace(/\\d.\\s/, '');\n  var fieldName = firstLabel.attr('for').replace(/-\\d/, '');\n  var fieldType = $(selector).attr('data-field-type');\n  list.each(function (index) {\n    var _this = $(this);\n\n    _this.find('.delete').attr('data-index', index);\n\n    _this.find('label').attr('for', \"\".concat(fieldName, \"-\").concat(index)).text(\"\".concat(index + 1, \". \").concat(labelName));\n\n    var fieldAttr = \"\".concat(fieldName, \"-\").concat(index);\n\n    _this.find(fieldType).attr({\n      id: fieldAttr,\n      name: fieldAttr\n    });\n  });\n}\n\nvar hold = false;\n\nfunction deleteField(button) {\n  /*\r\n  * Used to delete field\r\n  * */\n  if (hold) return false;\n  var selector = button.attr('data-selector');\n  var index = button.attr('data-index');\n  if (!index || !selector || $(\"\".concat(selector, \" li\")).length < 2) return false;\n  $(selector).children().eq(index).remove();\n  updateFieldsAttr(selector);\n  /*\r\n  * setTimeout is a tweak to prevent multiple deletion caused by\r\n  * multiple instance of $('button.delete').click()\r\n  * one on document load\r\n  * second after new field creation\r\n  */\n\n  setTimeout(function () {\n    hold = false;\n  }, 500);\n  hold = true;\n}\n\nfunction recipeEdit() {\n  // Define fields used as a chip field\n  var chipFields = [{\n    chipFieldSelector: '#categoryChips',\n    placeholder: 'Add category',\n    secondaryPlaceholder: '+Category',\n    wtfFieldName: 'categories'\n  }, {\n    chipFieldSelector: '#cuisineChips',\n    placeholder: 'Add cuisine',\n    secondaryPlaceholder: '+Cuisine',\n    wtfFieldName: 'cuisines'\n  }, {\n    chipFieldSelector: '#allergensChips',\n    placeholder: 'Add allergen',\n    secondaryPlaceholder: '+Allergen',\n    wtfFieldName: 'allergens'\n  }];\n  document.addEventListener('DOMContentLoaded', function () {\n    chipFields.forEach(function (item) {\n      new RecipeChipFields(item);\n    });\n    convertFieldList('textarea', '#method');\n    convertFieldList('input', '#ingredients'); // create event on click delete button\n\n    $('button.addField').click(function () {\n      addField($(this));\n    });\n    $('li button.delete').click(function () {\n      deleteField($(this));\n    });\n  });\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))\n\n//# sourceURL=webpack:///./assets/scripts/recipes.js?")},42:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function($) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return archiveView; });\n/* harmony import */ var materialize_css_dist_js_materialize_min_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(43);\n/* harmony import */ var materialize_css_dist_js_materialize_min_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(materialize_css_dist_js_materialize_min_js__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction archiveView() {\n  document.addEventListener('DOMContentLoaded', function () {\n    var elems = document.querySelectorAll('select');\n    materialize_css_dist_js_materialize_min_js__WEBPACK_IMPORTED_MODULE_0___default.a.FormSelect.init(elems, {});\n    $('.optionLink').on('change', function () {\n      window.location.href = $(this).val();\n    });\n  });\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))\n\n//# sourceURL=webpack:///./assets/scripts/archive.js?")},44:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(45);\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_main_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var materialize_css_dist_js_materialize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n/* harmony import */ var materialize_css_dist_js_materialize__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(materialize_css_dist_js_materialize__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(46);\n/* harmony import */ var _recipes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(41);\n/* harmony import */ var _archive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(42);\n\n\n\n\n\n\nvar _body = $('body');\n\nif (_body.hasClass('edit_recipe')) {\n  Object(_recipes__WEBPACK_IMPORTED_MODULE_3__[/* recipeEdit */ \"a\"])();\n}\n\nif (_body.hasClass('archive')) {\n  Object(_archive__WEBPACK_IMPORTED_MODULE_4__[/* archiveView */ \"a\"])();\n}\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))\n\n//# sourceURL=webpack:///./assets/scripts/index.js?")},45:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./assets/styles/main.scss?")},46:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(26);\n/* harmony import */ var core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(11);\n/* harmony import */ var materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n // mobile menu handler\n\n$('#menuOpener').click(function () {\n  var _body = $('body');\n\n  var ico = _body.hasClass('navRolled') ? 'menu' : 'close';\n  $('#menuOpener i').text(ico);\n\n  _body.toggleClass('navRolled');\n});\n$('button.voteForRecipe').click(function (e) {\n  e.preventDefault();\n\n  var _this = $(this);\n\n  var recipe_id = _this.attr('data-recipe-id');\n\n  if (typeof recipe_id === 'undefined') {\n    alert('You need to login to vote for the recipe');\n    return false;\n  }\n\n  $.ajax({\n    type: 'post',\n    url: '/api/recipe-vote',\n    data: {\n      id: recipe_id\n    },\n    async: true,\n    dataType: 'json',\n    success: function success(response) {\n      if (response.status === 'error') {\n        alert(response.message);\n        return false;\n      }\n\n      _this.toggleClass('voted');\n\n      _this.find('span').text(response.votes);\n    }\n  });\n});\ndocument.addEventListener('DOMContentLoaded', function () {\n  var elems = document.querySelectorAll('.modal');\n  materialize_css_dist_js_materialize_js__WEBPACK_IMPORTED_MODULE_1___default.a.Modal.init(elems, {});\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(2)))\n\n//# sourceURL=webpack:///./assets/scripts/common.js?")}},[[44,4,1,3,2]]]);